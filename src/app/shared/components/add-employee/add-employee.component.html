
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;700&display=swap" rel="stylesheet">

<body class="rtl-form" style="font-family: 'Cairo', sans-serif; background: linear-gradient(135deg, #f8f9fa 0%, #f1f2f6 100%); min-height: 100vh; padding: 20px;">
  <div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center mb-4 p-4 rounded-4" style="background: linear-gradient(90deg, #1a2530 0%, #2c3e50 100%);">
      <h2 class="mb-0 text-white fw-bold">
        <i class="fas fa-user-plus me-3" style="color: #D4AF37;"></i> إضافة موظف جديد
      </h2>    
    </div>


    <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
      <div class="card-body p-4">
        <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
          <div class="row g-4">
            <!-- Email -->
            <div class="col-md-6">
              <label class="form-label fw-bold text-white mb-3" style="background: #2c3e50; padding: 8px 5px; border-radius: 8px; display: inline-block;">
                <i class="fas fa-envelope" style="color: #D4AF37; margin: 10px;"></i>
                البريد الإلكتروني
              </label>

              <div class="input-group shadow-sm">
                <span class="input-group-text" style="background: #2c3e50; border-color: #1a2530; color: #D4AF37;">
                  <i class="fas fa-envelope"></i>
                </span>
                <input 
                  type="email" 
                  class="form-control py-3 input-gold"
                  formControlName="email"
                  placeholder="أدخل البريد الإلكتروني"
                >
              </div>
              <div *ngIf="employeeForm.get('email')?.invalid && employeeForm.get('email')?.touched" 
                  class="text-danger mt-2 fw-medium">
                <i class="fas fa-exclamation-circle me-2"></i>بريد إلكتروني صحيح مطلوب
              </div>
            </div>

            <!-- Password -->
            <div class="col-md-6">
              <label class="form-label fw-bold text-white mb-3" style="background: #2c3e50; padding: 8px 5px; border-radius: 8px; display: inline-block;">
                <i class="fas fa-lock " style="color: #D4AF37; margin: 10px;"></i>كلمة المرور
              </label>
              <div class="input-group shadow-sm">
                <span class="input-group-text" style="background: #2c3e50; border-color: #1a2530; color: #D4AF37;">
                  <i class="fas fa-lock"></i>
                </span>
                <input 
                  type="password" 
                  class="form-control py-3 input-gold"
                  formControlName="password"
                  placeholder="أدخل كلمة المرور"
                >
              </div>
              <div *ngIf="employeeForm.get('password')?.invalid && employeeForm.get('password')?.touched" 
                  class="text-danger mt-2 fw-medium">
                <i class="fas fa-exclamation-circle me-2"></i>كلمة المرور يجب أن تكون 6 أحرف على الأقل
              </div>
            </div>

            <!-- Full Name -->
            <div class="col-md-6">
              <label class="form-label fw-bold text-white mb-3" style="background: #2c3e50; padding: 8px 5px; border-radius: 8px; display: inline-block;">
                <i class="fas fa-user " style="color: #D4AF37; margin: 10px;"></i>الاسم بالكامل
              </label>
              <div class="input-group shadow-sm">
                <span class="input-group-text" style="background: #2c3e50; border-color: #1a2530; color: #D4AF37;">
                  <i class="fas fa-user"></i>
                </span>
                <input 
                  type="text" 
                  class="form-control py-3 input-gold"
                  formControlName="fullName"
                  placeholder="أدخل الاسم بالكامل"
                >
              </div>
            </div>

            <!-- Phone -->
            <div class="col-md-6">
              <label class="form-label fw-bold text-white mb-3" style="background: #2c3e50; padding: 8px 5px; border-radius: 8px; display: inline-block;">
                <i class="fas fa-phone " style="color: #D4AF37; margin: 10px;"></i>رقم الهاتف
              </label>
              <div class="input-group shadow-sm">
                <span class="input-group-text" style="background: #2c3e50; border-color: #1a2530; color: #D4AF37;">
                  <i class="fas fa-phone"></i>
                </span>
                <input 
                  type="tel" 
                  class="form-control py-3 input-gold"
                  formControlName="phoneNumber"
                  placeholder="أدخل رقم الهاتف"
                >
              </div>
              <div *ngIf="employeeForm.get('phoneNumber')?.errors?.['pattern']" 
                  class="text-danger mt-2 fw-medium">
                <i class="fas fa-exclamation-circle me-2"></i>رقم هاتف مصري صحيح مطلوب (11 رقم)
              </div>
            </div>

            <!-- Address -->
            <div class="col-12">
              <label class="form-label fw-bold text-white mb-3" style="background: #2c3e50; padding: 8px 5px; border-radius: 8px; display: inline-block;">
                <i class="fas fa-map-marker-alt " style="color: #D4AF37; margin: 10px;"></i>العنوان
              </label>
              <div class="input-group shadow-sm">
                <span class="input-group-text" style="background: #2c3e50; border-color: #1a2530; color: #D4AF37;">
                  <i class="fas fa-map-marker-alt"></i>
                </span>
                <input 
                  type="text" 
                  class="form-control py-3 input-gold"
                  formControlName="address"
                  placeholder="أدخل العنوان"
                >
              </div>
            </div>

            <!-- Branch -->
            <div class="col-md-4">
              <label class="form-label fw-bold text-white mb-3" style="background: #2c3e50; padding: 8px 5px; border-radius: 8px; display: inline-block;">
                <i class="fas fa-code-branch " style="color: #D4AF37; margin: 10px;"></i>الفرع
              </label>
              <div class="input-group shadow-sm">
                <span class="input-group-text" style="background: #2c3e50; border-color: #1a2530; color: #D4AF37;">
                  <i class="fas fa-code-branch"></i>
                </span>
                <select class="form-select py-3 input-gold text-center" formControlName="branchId">
                  <option value="" disabled>اختر الفرع</option>
                  <option *ngFor="let branch of branches" [value]="branch.id">
                    {{ branch.name }}
                  </option>
                </select>
              </div>
              <div *ngIf="employeeForm.get('branchId')?.invalid && employeeForm.get('branchId')?.touched" 
                  class="text-danger mt-2 fw-medium">
                <i class="fas fa-exclamation-circle me-2"></i>مطلوب اختيار الفرع
              </div>
            </div>

            <!-- Region -->
            <div class="col-md-4">
              <label class="form-label fw-bold text-white mb-3" style="background: #2c3e50; padding: 8px 5px; border-radius: 8px; display: inline-block;">
                <i class="fas fa-map-marked-alt " style="color: #D4AF37; margin: 10px;"></i>المنطقة
              </label>
              <div class="input-group shadow-sm">
                <span class="input-group-text" style="background: #2c3e50; border-color: #1a2530; color: #D4AF37;">
                  <i class="fas fa-map-marked-alt"></i>
                </span>
                <select class="form-select py-3 input-gold text-center" formControlName="regionID">
                  <option value="" disabled>اختر المنطقة</option>
                  <option *ngFor="let region of regions" [value]="region.id">
                    {{ region.governorate }}
                  </option>
                </select>
              </div>
              <div *ngIf="employeeForm.get('regionID')?.invalid && employeeForm.get('regionID')?.touched" 
                  class="text-danger mt-2 fw-medium">
                <i class="fas fa-exclamation-circle me-2"></i>مطلوب اختيار المنطقة
              </div>
            </div>

            <!-- Role -->
            <div class="col-md-4">
              <label class="form-label fw-bold text-white mb-3" style="background: #2c3e50; padding: 8px 5px; border-radius: 8px; display: inline-block;">
                <i class="fas fa-user-tag " style="color: #D4AF37; margin: 10px;"></i>الدور الوظيفي
              </label>
              <div class="input-group shadow-sm">
                <span class="input-group-text" style="background: #2c3e50; border-color: #1a2530; color: #D4AF37;">
                  <i class="fas fa-user-tag"></i>
                </span>
                <select class="form-select py-3 input-gold text-center" formControlName="roleName">
                  <option value="" disabled>اختر الدور</option>
                  <option *ngFor="let role of roles" [value]="role.roleName">
                    {{ role.roleName }}
                  </option>
                  <option *ngIf="isLoadingRoles" disabled>جاري تحميل الأدوار...</option>
                </select>
              </div>
              <div *ngIf="employeeForm.get('roleName')?.invalid && employeeForm.get('roleName')?.touched" 
                  class="text-danger mt-2 fw-medium">
                <i class="fas fa-exclamation-circle me-2"></i>مطلوب اختيار الدور
              </div>
            </div>
          <div class="col-12 mt-4 text-center">
            <button routerLink="/employees"
              type="submit" 
              class="btn btn-lg rounded-pill px-5 py-3 fw-bold shadow-sm"
              style="min-width: 250px; background: linear-gradient(135deg, #B8860B 0%, #D4AF37 100%); color: #1a2530;"
              [disabled]="employeeForm.invalid || isSubmitting"
            >
              <span *ngIf="!isSubmitting">
                <i class="fas fa-save" style="margin: 10px;"></i>حفظ الموظف
              </span>
              <span *ngIf="isSubmitting">
                <i class="fas fa-spinner fa-spin me-3"></i>جاري الحفظ...
              </span>
              
            </button>
          </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</body>